# DKMS configuration for Legion Laptop Kernel Module
# Dynamic Kernel Module Support for automatic rebuilds across kernel updates

PACKAGE_NAME="legion-laptop"
PACKAGE_VERSION="6.0.0"

# Module information
BUILT_MODULE_NAME[0]="legion_laptop_16irx9"
DEST_MODULE_LOCATION[0]="/updates/dkms"

# Auto-installation and rebuild
AUTOINSTALL="yes"
REMAKE_INITRD="yes"

# Module dependencies
MODULES_CONF_OBSOLETES="legion_laptop"

# Build configuration
MAKE[0]="make all KVER=$kernelver"
CLEAN="make clean"

# Post-install actions
POST_INSTALL="scripts/post-install.sh"
POST_REMOVE="scripts/post-remove.sh"